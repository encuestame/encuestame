/**
 * Copyright 2014 encuestame
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

var express = require('express'),
    app = express();


var default_response  = {
    "config" : null,
    "body"   : "",
    "header" : null,
    "aditionalInfo" : null
};

app.get('/encuestame/api/jsonp/poll/embedded', function(req, res){
    default_response.body = "<div class=\"widget poll-form\">\n    <blockquote class=\"\" data-id=\"1\" cite=\"$owner_profile_url\">\n        <div class=\"header\">\n    <div class=\"enme-author\">\n        <a class=\"u-url profile\" href=\"$owner_profile_url\"\n           aria-label=\"demo3\">\n            <img class=\"avatar\"\n                 alt=\"demo3\"\n                 src=\"http://localhost:3001/encuestame/resources/images/user.png\"\n                 data-src=\"http://localhost:3001/encuestame/resources/images/user.png\">\n            <div class=\"full-name\">\n                          <span class=\"enme-name\">\n                              complete demo username\n                          </span>\n            </div>\n            <div class=\"enme-username\">\n                <b>\n                    demo3\n                </b>\n            </div>\n        </a>\n    </div>\n</div>        <div class=\"title\">\n            Who was the first woman to drive in the Indy 500?\n        </div>\n        <div class=\"content\">\n            <form action=\"http://localhost:3001/encuestame/poll/vote/post\" method=\"POST\">\n                <ul>\n                                    <li>\n                        <label>\n                            Janet Guthrie\n                            <input type=\"radio\" name=\"poll\" value=\"153\" class=\"web-radio-button\" id=\"_input_153\">\n                        </label>\n                    </li>\n                                    <li>\n                        <label>\n                            Erin Crocker\n                            <input type=\"radio\" name=\"poll\" value=\"154\" class=\"web-radio-button\" id=\"_input_154\">\n                        </label>\n                    </li>\n                                    <li>\n                        <label>\n                            Danica Patrick\n                            <input type=\"radio\" name=\"poll\" value=\"155\" class=\"web-radio-button\" id=\"_input_155\">\n                        </label>\n                    </li>\n                                    <li>\n                        <label>\n                            Milika Duno\n                            <input type=\"radio\" name=\"poll\" value=\"156\" class=\"web-radio-button\" id=\"_input_156\">\n                        </label>\n                    </li>\n                                </ul>\n                <div class=\"poll-submit\">\n                    <button>\n                        Vote\n                    </button>\n                    <input name=\"itemId\" type=\"hidden\" value=\"1\">\n                    <input name=\"type\" type=\"hidden\" value=\"SINGLE_SELECTION\">\n                    <input name=\"type_form\" type=\"hidden\" value=\"embedded\">\n                    <input name=\"slugName\" type=\"hidden\" value=\"who-was-the-first-woman-to-drive-in-the-indy\">\n                </div>\n            </form>\n        </div>\n        <div class=\"footer\">\n            <div class=\"dateline\">\n                <a class=\"u-url\"\n                   href=\"$url\" target=\"_blank\">\n                    <time pubdate=\"\"\n                          class=\"enme-time\"\n                          datetime=\"11:24 - 21 June 2014\"\n                          title=\"11:24 - 21 June 2014\">\n                        11:24 - 21 June 2014\n                    </time>\n                </a>\n            </div>\n            <footer>\n                \n    <a href=\"http://www.encuestame.org\" target=\"_blank\">\n        <img class=\"avatar\"\n             alt=\"encuestame\"\n            src=\"http://localhost:3001/encuestame/resources/images/logos/2013/logo/logo_xtra_small.png\">\n    </a>\n            </footer>\n        </div>\n    </blockquote>\n</div>";
    res.jsonp(default_response);
});

app.get('/encuestame/api/jsonp/pollresult/embedded', function(req, res){
    default_response.body = "<div class=\"widget poll-form\">\n    <blockquote class=\"\" data-id=\"1\" cite=\"$owner_profile_url\">\n        <div class=\"header\">\n    <div class=\"enme-author\">\n        <a class=\"u-url profile\" href=\"$owner_profile_url\"\n           aria-label=\"demo3\">\n            <img class=\"avatar\"\n                 alt=\"demo3\"\n                 src=\"http://localhost:3001/encuestame/resources/images/user.png\"\n                 data-src=\"http://localhost:3001/encuestame/resources/images/user.png\">\n            <div class=\"full-name\">\n                          <span class=\"enme-name\">\n                              complete demo username\n                          </span>\n            </div>\n            <div class=\"enme-username\">\n                <b>\n                    demo3\n                </b>\n            </div>\n        </a>\n    </div>\n</div>        <div class=\"title\">\n            Who was the first woman to drive in the Indy 500?\n        </div>\n        <div class=\"content\">\n            <form action=\"http://localhost:3001/encuestame/poll/vote/post\" method=\"POST\">\n                <ul>\n                                    <li>\n                        <label>\n                            Janet Guthrie\n                            <input type=\"radio\" name=\"poll\" value=\"153\" class=\"web-radio-button\" id=\"_input_153\">\n                        </label>\n                    </li>\n                                    <li>\n                        <label>\n                            Erin Crocker\n                            <input type=\"radio\" name=\"poll\" value=\"154\" class=\"web-radio-button\" id=\"_input_154\">\n                        </label>\n                    </li>\n                                    <li>\n                        <label>\n                            Danica Patrick\n                            <input type=\"radio\" name=\"poll\" value=\"155\" class=\"web-radio-button\" id=\"_input_155\">\n                        </label>\n                    </li>\n                                    <li>\n                        <label>\n                            Milika Duno\n                            <input type=\"radio\" name=\"poll\" value=\"156\" class=\"web-radio-button\" id=\"_input_156\">\n                        </label>\n                    </li>\n                                </ul>\n                <div class=\"poll-submit\">\n                    <button>\n                        Vote\n                    </button>\n                    <input name=\"itemId\" type=\"hidden\" value=\"1\">\n                    <input name=\"type\" type=\"hidden\" value=\"SINGLE_SELECTION\">\n                    <input name=\"type_form\" type=\"hidden\" value=\"embedded\">\n                    <input name=\"slugName\" type=\"hidden\" value=\"who-was-the-first-woman-to-drive-in-the-indy\">\n                </div>\n            </form>\n        </div>\n        <div class=\"footer\">\n            <div class=\"dateline\">\n                <a class=\"u-url\"\n                   href=\"$url\" target=\"_blank\">\n                    <time pubdate=\"\"\n                          class=\"enme-time\"\n                          datetime=\"11:24 - 21 June 2014\"\n                          title=\"11:24 - 21 June 2014\">\n                        11:24 - 21 June 2014\n                    </time>\n                </a>\n            </div>\n            <footer>\n                \n    <a href=\"http://www.encuestame.org\" target=\"_blank\">\n        <img class=\"avatar\"\n             alt=\"encuestame\"\n            src=\"http://localhost:3001/encuestame/resources/images/logos/2013/logo/logo_xtra_small.png\">\n    </a>\n            </footer>\n        </div>\n    </blockquote>\n</div>";
    res.jsonp(default_response);
});

app.get('/encuestame/api/jsonp/tweetpoll/embedded', function(req, res){
    default_response.body = "<div class=\"widget tweetpoll-form\">\n        <blockquote class=\"\" data-id=\"82\" cite=\"http://localhost:3001/encuestame/profile/demo3\">\n            <div class=\"header\">\n    <div class=\"enme-author\">\n        <a class=\"u-url profile\" href=\"http://localhost:3001/encuestame/profile/demo3\"\n           aria-label=\"demo3\">\n            <img class=\"avatar\"\n                 alt=\"demo3\"\n                 src=\"http://localhost:3001/encuestame/resources/images/user.png\"\n                 data-src=\"http://localhost:3001/encuestame/resources/images/user.png\">\n            <div class=\"full-name\">\n                          <span class=\"enme-name\">\n                              complete demo username\n                          </span>\n            </div>\n            <div class=\"enme-username\">\n                <b>\n                    demo3\n                </b>\n            </div>\n        </a>\n    </div>\n</div>            <div class=\"content enme-title\">\n                <p class=\"title\">\n                    <b class=\"q-enme\">How should a 24-year-old invest time?</b> <b class=\"answer\">Block all social media</b>  <a target=\"_blank\" href=\"http://tinyurl.com/kdkjfx3\">http://tinyurl.com/kdkjfx3</a><b class=\"answer\">Set daily goals</b>  <a target=\"_blank\" href=\"http://tinyurl.com/ll4fs3u\">http://tinyurl.com/ll4fs3u</a> <a target=\"_blank\" href=\"http://localhost:3001/encuestame\\tag\\social\">#social</a>\n                </p>\n                <div class=\"dateline\">\n                    <a class=\"u-url\"\n                       href=\"http://localhost:3001/encuestame/tweetpoll/82/how-should-a-year-old-invest-time\">\n                       <time pubdate=\"\"\n                             class=\"enme-time\"\n                             datetime=\"23:18 - 1 October 2014\"\n                             title=\"23:18 - 1 October 2014\">\n                             23:18 - 1 October 2014\n                       </time>\n                    </a>\n                </div>\n            </div>\n            <div class=\"footer \">\n                  <span class=\"\">\n                      <span class=\"stats\">\n                          <a href=\"http://localhost:3001/encuestame/profile/demo3\">\n                            <span class=\"\">\n                              <strong>\n                                  0\n                              </strong>\n                                votes\n                            </span>\n                          </a>\n                      </span>\n                  </span>\n                <span class=\"\">\n                      <span class=\"stats\">\n                          <a href=\"http://localhost:3001/encuestame/profile/demo3\">\n                            <span class=\"\">\n                              <strong>\n                                  18\n                              </strong>\n                              hits\n                            </span>\n                          </a>\n                      </span>\n                  </span>\n                  <footer>\n                      \n    <a href=\"http://www.encuestame.org\" target=\"_blank\">\n        <img class=\"avatar\"\n             alt=\"encuestame\"\n            src=\"http://localhost:3001/encuestame/resources/images/logos/2013/logo/logo_xtra_small.png\">\n    </a>\n                  </footer>\n            </div>\n        </blockquote>\n</div>",
    res.jsonp(default_response);
});

//css
app.use("/encuestame/resources/", express.static(__dirname + '/resources/'));
//

app.get('/encuestame/api/jsonp/tweetpollresult/embedded', function(req, res){
    default_response.body = "<div class=\"widget tweetpoll-results\">\n    <blockquote class=\"\" data-id=\"3\" cite=\"$owner_profile_url\">\n        <div class=\"header\">\n    <div class=\"enme-author\">\n        <a class=\"u-url profile\" href=\"$owner_profile_url\"\n           aria-label=\"demo3\">\n            <img class=\"avatar\"\n                 alt=\"demo3\"\n                 src=\"http://localhost:3001/encuestame/resources/images/user.png\"\n                 data-src=\"http://localhost:3001/encuestame/resources/images/user.png\">\n            <div class=\"full-name\">\n                          <span class=\"enme-name\">\n                              complete demo username\n                          </span>\n            </div>\n            <div class=\"enme-username\">\n                <b>\n                    demo3\n                </b>\n            </div>\n        </a>\n    </div>\n</div>        <div class=\"content\">\n                <a href=\"http://localhost:3001/encuestame/tweetpoll/3/what-is-your-favorite-book\" target=\"_blank\">\n                    <div class=\"title\">\n                        What is your favorite book?\n                    </div>\n                </a>\n                <div class=\"answers\">\n                    <ul>\n                                            <li>\n                            <div class=\"answer-color\" data-id=\"5\">\n                                <div class=\"color-code\" style=\"background-color: #66F4C8\"></div>\n                                 <span>\n                                        <a>\n                                            The little prince\n                                        </a>\n                                        <span class=\"percent\">\n                                            (83.33%)\n                                        </span>\n                                 </span>\n                            </div>\n                        </li>\n                                            <li>\n                            <div class=\"answer-color\" data-id=\"6\">\n                                <div class=\"color-code\" style=\"background-color: #1478F7\"></div>\n                                 <span>\n                                        <a>\n                                            Bible\n                                        </a>\n                                        <span class=\"percent\">\n                                            (16.67%)\n                                        </span>\n                                 </span>\n                            </div>\n                        </li>\n                                        </ul>\n                </div>\n                <div class=\"range_stats\"></div>\n         </div>\n         <div class=\"footer\">\n             <div class=\"dateline\">\n                 <a class=\"u-url\"\n                    href=\"http://localhost:3001/encuestame/tweetpoll/3/what-is-your-favorite-book\" target=\"_blank\">\n                     <time pubdate=\"\"\n                           class=\"enme-time\"\n                           datetime=\"11:14 - 1 June 2014\"\n                           title=\"11:14 - 1 June 2014\">\n                         11:14 - 1 June 2014\n                     </time>\n                 </a>\n            </div>\n            <footer>\n                \n    <a href=\"http://www.encuestame.org\" target=\"_blank\">\n        <img class=\"avatar\"\n             alt=\"encuestame\"\n            src=\"http://localhost:3001/encuestame/resources/images/logos/2013/logo/logo_xtra_small.png\">\n    </a>\n            </footer>\n         </div>\n    </blockquote>\n</div>",
    default_response.aditionalInfo = [ {
        "id" : 5,
        "percent" : "83.33%",
        "question_label" : "The little prince",
        "votes" : 25,
        "color" : "#66F4C8",
        "url_relative" : null,
        "url_short_url" : null
    }, {
        "id" : 6,
        "percent" : "16.67%",
        "question_label" : "Bible",
        "votes" : 5,
        "color" : "#1478F7",
        "url_relative" : null,
        "url_short_url" : null
    } ];
    res.jsonp(default_response);
});

app.get('/encuestame/api/jsonp/profile/embedded', function(req, res){
    default_response.body = "<div class=\"widget profile\">\n    <blockquote class=\"\" data-id=\"3\" cite=\"http://localhost:3001/encuestame/profile/demo3\">\n        <div class=\"header\">\n    <div class=\"enme-author\">\n        <a class=\"u-url profile\" href=\"http://localhost:3001/encuestame/profile/demo3\"\n           aria-label=\"demo3\">\n            <img class=\"avatar\"\n                 alt=\"demo3\"\n                 src=\"http://localhost:3001/encuestame/resources/images/user.png\"\n                 data-src=\"http://localhost:3001/encuestame/resources/images/user.png\">\n            <div class=\"full-name\">\n                          <span class=\"enme-name\">\n                              complete demo username\n                          </span>\n            </div>\n            <div class=\"enme-username\">\n                <b>\n                    demo3\n                </b>\n            </div>\n        </a>\n    </div>\n</div>            <div class=\"content\">\n                                    <blockquote>\n                        <span class=\"bqstart\">&#8220;</span>\n                            <div class=\"last_publications\">\n                                <a href=\"\" target=\"_blank\">\n                                    How should a 24-year-old invest time?\n                                 </a>\n                            </div>\n                        <span class=\"bqend\">&#8221;\n                        </span>\n                    </blockquote>\n                                            </div>\n            <div class=\"footer profile_data\">\n                  <span class=\"\">\n                      <span class=\"stats\">\n                          <a href=\"http://localhost:3001/encuestame/profile/demo3\">\n                            <span class=\"\">\n                              <strong>\n                                  29\n                              </strong>\n                                TweetPolls\n                            </span>\n                          </a>\n                      </span>\n                  </span>\n                 <span>\n                      <span class=\"stats\">\n                          <a href=\"http://localhost:3001/encuestame/profile/demo3\">\n                            <span class=\"\">\n                              <strong>\n                                  26\n                              </strong>\n                              Polls\n                            </span>\n                          </a>\n                      </span>\n                  </span>\n                  <span class=\"\">\n                      <span class=\"stats\">\n                          <a href=\"http://localhost:3001/encuestame/profile/demo3\">\n                            <span class=\"\">\n                              <strong>\n                                  1\n                              </strong>\n                              Surveys\n                            </span>\n                          </a>\n                      </span>\n                  </span>\n                <footer>\n                    \n    <a href=\"http://www.encuestame.org\" target=\"_blank\">\n        <img class=\"avatar\"\n             alt=\"encuestame\"\n            src=\"http://localhost:3001/encuestame/resources/images/logos/2013/logo/logo_xtra_small.png\">\n    </a>\n                </footer>\n            </div>\n    </blockquote>\n</div>",
    res.jsonp(default_response);
});

var server = app.listen(3001, function() {
    console.log('Listening on port %d', server.address().port);
});
console.log('Express server started on port %s', 3032);
